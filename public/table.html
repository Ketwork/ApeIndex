<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <!-- jQuery library -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
    integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <!-- CSS -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="topright"> <a href="index.html">Enter Details</a></div>

    <h1>Table</h1>

    <main class="main">
        <table class="table" cellspacing="0">
            <tr>
                <th data-column="name" data-order="desc">Name</th>
                <th data-column="height" data-order="desc">Height</th>
                <th data-column="span" data-order="desc">Span</th>
                <th data-column="ape1" data-order="desc">Ape-1 (W/H)</th>
                <th data-column="ape2" data-order="desc">Ape-2 (W-H)</th>
            </tr>
            <tbody id="myTable">
                
            </tbody>
        
      </table>
    </main>

    <script>
        $('th').on('click', function(){
            console.log('column was clicked')
        })


        getData();
        async function getData() {
            const response = await fetch('/api');
            const data = await response.json();

            var table = document.getElementById('myTable')
            for (var i = 0; i < data.length; i++){

            var row = `<tr>
                            <td>${data[i].name}</td>
                            <td>${data[i].height}</td>
                            <td>${data[i].span}</td>
                            <td>${data[i].ape1}</td>
                            <td>${data[i].ape2}</td>
                    </tr>`
            table.innerHTML += row

            }
            // <td class="time-left">${data[i].timestamp}</td>

            //display data on page
            // for (item of data) {
            //     const root = document.createElement('div');
            //     const name = document.createElement('div');
            //     const height = document.createElement('div');
            //     const span = document.createElement('div');
            //     const date = document.createElement('div');

            //     name.textContent = `Name: ${item.name}`;
            //     height.textContent = `${item.height}`;
            //     span.textContent = `${item.span}`;
            //     const datestring = new Date(item.timestamp).toLocaleString();
            //     date.textContent = datestring;

            //     root.append(name, height, date);
            //     document.body.append(root);
            // }

            console.log(data);
        }
    </script>
</body>
</html>