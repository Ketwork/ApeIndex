<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <!-- CSS -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Table</h1>

    <main class="main">
        <table class="table" cellspacing="0">
            <tr>
                <th>Name</th>
                <th>Strip date</th>
                <th>Reset date</th>
                <th>Ape-1 (W/H)</th>
                <th>Ape-2 (W-H)</th>
            </tr>
            <tbody id="myTable">
                
            </tbody>
        
      </table>
    </main>

    <script>
        getData();
        async function getData() {
            const response = await fetch('/api');
            const data = await response.json();

            var table = document.getElementById('myTable')
            for (var i = 0; i < data.length; i++){

            var row = `<tr>
                            <td>${data[i].name}</td>
                            <td>${data[i].height}</td>
                            <td>${data[i].span}</td>
                            <td>${data[i].ape}</td>
                            <td>${data[i].ape2}</td>
                    </tr>`
            table.innerHTML += row

}
            // <td class="time-left">${data[i].timestamp}</td>

            //display data on page
            // for (item of data) {
            //     const root = document.createElement('div');
            //     const name = document.createElement('div');
            //     const height = document.createElement('div');
            //     const span = document.createElement('div');
            //     const date = document.createElement('div');

            //     name.textContent = `Name: ${item.name}`;
            //     height.textContent = `${item.height}`;
            //     span.textContent = `${item.span}`;
            //     const datestring = new Date(item.timestamp).toLocaleString();
            //     date.textContent = datestring;

            //     root.append(name, height, date);
            //     document.body.append(root);
            // }

            console.log(data);
        }
    </script>
</body>
</html>